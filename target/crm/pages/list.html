<!doctype html>

<html lang="zh">

<head>

    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>时事新闻</title>

    <link rel="stylesheet" type="text/css" href="css/normalize.css"/>

    <link rel="stylesheet" type="text/css" href="css/default.css">

    <link href="css/bootstrap.60.css" rel="stylesheet" type="text/css"/>

    <link href="css/bootstrap-theme.min.css" rel="stylesheet" type="text/css"/>

    <link href="css/site.css" rel="stylesheet" type="text/css"/>
    <script src="js/jquery-3.3.1.js"></script>
    <script src="js/jquery.bootstrap.newsbox.min.js" type="text/javascript"></script>

</head>

<body>

<div class="htmleaf-container">


    <br/>
    <!--		这个-->
    <div class="container mp30">

        <div class="row">

            <div class="col-md-12">

                <div class="panel panel-default">

                    <div class="panel-heading">

                        <span class="glyphicon glyphicon-list-alt"></span><b>时事新闻</b></div>

                    <div class="panel-body">

                        <div class="row">

                            <div class="col-xs-12">

                                <ul class="demo1" id="listLatest">

                                    <li class="news-item">

                                        <table cellpadding="4">

                                            <tr>

                                                <td><img src="img/d52a2834349b033b72ee7ba263f332d6d539bd22.jpg"
                                                         width="240" height="153" class="img-rounded"/></td>

                                                <td><h3>C罗帽子戏法救主</h3> <br/><a href="#"
                                                                              onclick="toDetails(1);">查看详情...</a><br><br><span
                                                        class="glyphicon glyphicon-time">2019-07-21 09:19:43</span>
                                                </td>

                                            </tr>

                                        </table>

                                    </li>

                                    <li class="news-item">

                                        <table cellpadding="4">

                                            <tr>

                                                <td><img src="img/20180626064402269.jpg"
                                                         width="240" height="153" class="img-rounded"/></td>

                                                <td><h3>西班牙2:2摩洛哥 凭进球优势小组第一出线</h3> <br/><a href="#"
                                                                                           onclick="toDetails(2);">查看详情...</a><br><br><span
                                                        class="glyphicon glyphicon-time">2019-07-16 09:20:43</span>
                                                </td>

                                            </tr>

                                        </table>

                                    </li>

                                    <li class="news-item">

                                        <table cellpadding="4">

                                            <tr>

                                                <td><img src="lmjimg/ykCd-heirxyf5011435.jpg"
                                                         width="240" height="153" class="img-rounded"/></td>

                                                <td><h3>清秀女孩高考723分，超一本线200分，被赞学霸</h3> <br/><a href="#"
                                                                                              onclick="toDetails(3);">查看详情...</a><br><br><span
                                                        class="glyphicon glyphicon-time">2019-07-15 09:25:43</span>
                                                </td>

                                            </tr>

                                        </table>

                                    </li>

                                </ul>

                            </div>

                        </div>

                    </div>

                    <br/><br/>

                    <div class="panel-footer">


                    </div>

                </div>

            </div>

            <!--		这个-->


        </div>

    </div>


</div>
<header class="htmleaf-header" style="background: black;">

    <h1 style="color: gray;">PANDA新闻</h1><br/>
    <span style="color: gray;">Copyright © 2018.Panda News All rights reserved </span>


</header>


<script type="text/javascript">

    //获取项目url路径
    function getRootPath() {
        // 1、获取当前全路径，如： http://localhost:8080/springmvc/page/frame/test.html
        var curWwwPath = window.location.href;
        // 获取当前相对路径： /springmvc/page/frame/test.html
        var pathName = window.location.pathname;    // 获取主机地址,如： http://localhost:8080
        var local = curWwwPath.substring(0, curWwwPath.indexOf(pathName));
        // 获取带"/"的项目名，如：/springmvc
        var projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);
        var rootPath = local + projectName;
        return rootPath;
    }


    //请求后台传回新闻
    var app = {
        init: function () {
            $.get(getRootPath() + "/news/listLatest.action?order=1", function (data) {
                $.each(data, function (index, item) {
                    $("#listLatest").append("<li class=\"news-item\"><table cellpadding=\"4\"><tr>" +
                        "<td><img src=\"" + item.cover + "\" width=\"240\" height='153' class=\"img-rounded\"/></td>" +
                        "<td><h3>" + item.title + "</h3><br/><a onclick=\"toDetails(" + item.nid + ");\">查看详情...</a><br><br>" +
                        "<span class=\"glyphicon glyphicon-time\">" + item.releaseTime + "</span></td></tr></table></li>")
                })
            });
        }
    };

    app.init();

    toDetails = function (nid) {
        window.open(getRootPath() + "/pages/details.html?nid=" + nid);
    };

    $(function () {

        $(".demo1").bootstrapNews({

            newsPerPage: 3,

            autoplay: true,

            pauseOnHover: true,

            direction: 'up',

            newsTickerInterval: 4000,

            onToDo: function () {

                //console.log(this);

            }

        });

    });

</script>

</body>

</html>